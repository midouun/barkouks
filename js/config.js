/* =========================================
   ููู ุงูุฅุนุฏุงุฏุงุช ููุงุนุฏุฉ ุงูุจูุงูุงุช (CONFIG & DB)
   ููุง ุชุชุญูู ูู ุชูุงุฒู ุงููุนุจุฉุ ุงูุฃุณุนุงุฑุ ูุงูุณุฑุนุฉ.
   ========================================= */

export const GAME_CONFIG = {
    // --- ุฅุนุฏุงุฏุงุช ุงูุจุฏุงูุฉ ---
    startMoney: 100,     // ุงููุงู ุนูุฏ ุจุฏุก ุงููุนุจุฉ ูุฃูู ูุฑุฉ
    startXP: 0,          // ููุงุท ุงูุฎุจุฑุฉ
    startLevel: 1,       // ุงููุณุชูู ุงูุฃูู
    
    // --- ุฅุนุฏุงุฏุงุช ุงููุฒุฑุนุฉ ---
    plotsCount: 9,       // ุนุฏุฏ ูุทุน ุงูุฃุฑุถ (3x3)
    
    // --- ุฅุนุฏุงุฏุงุช ุงูุญุธูุฑุฉ ---
    milkPrice: 15,       // ุณุนุฑ ุจูุน ุงูุญููุจ (ููููุจ ุงููุงุญุฏ)
    milkProductionTime: 10000, // ุณุฑุนุฉ ุฅูุชุงุฌ ุงูุจูุฑุฉ (10 ุซูุงูู)

    // --- ุฅุนุฏุงุฏุงุช ุงููุธุงู ---
    version: '2.0.0',    // ุฑูู ุงูุฅุตุฏุงุฑ (ููู ูุชุญุฏูุซุงุช ุงูุญูุธ ูุณุชูุจูุงู)
    language: 'ar',      // ุงููุบุฉ
};

/* =========================================
   ูุงุนุฏุฉ ุจูุงูุงุช ุงููุญุงุตูู (CROPS DATABASE)
   ุชุญุชูู ุนูู ูู ุงููุนูููุงุช ุงูุฎุงุตุฉ ุจุงููุจุงุชุงุช
   ========================================= */
export const CROPS = {
    'wheat': {
        id: 'wheat',
        name: 'ููุญ',
        icon: '๐พ',
        description: 'ุณุฑูุน ุงููููุ ููุชุงุฒ ููุจุฏุงูุฉ.',
        cost: 0,         // ูุฌุงูู
        sell: 5,         // ุฑุจุญ ุจุณูุท
        xp: 2,           // ุฎุจุฑุฉ ููููุฉ
        time: 3000,      // 3 ุซูุงูู (ุณุฑูุน ุฌุฏุงู ููุชุฌุฑุจุฉ)
        levelReq: 1      // ูุชุงุญ ูู ุงููุณุชูู 1
    },
    'carrot': {
        id: 'carrot',
        name: 'ุฌุฒุฑ',
        icon: '๐ฅ',
        description: 'ูุญุจู ุงูุฃุฑุงูุจุ ูุณุนุฑู ุฌูุฏ.',
        cost: 10,
        sell: 25,
        xp: 5,
        time: 10000,     // 10 ุซูุงูู
        levelReq: 1
    },
    'corn': {
        id: 'corn',
        name: 'ุฐุฑุฉ',
        icon: '๐ฝ',
        description: 'ูุญุตูู ุฐูุจูุ ูุญุชุงุฌ ููุชุงู.',
        cost: 30,
        sell: 70,
        xp: 12,
        time: 30000,     // 30 ุซุงููุฉ
        levelReq: 2      // ูุญุชุงุฌ ูุณุชูู 2
    },
    'tomato': {
        id: 'tomato',
        name: 'ุทูุงุทู',
        icon: '๐',
        description: 'ุฃุณุงุณ ุงูุณูุทุฉุ ุฑุจุญ ุนุงูู.',
        cost: 80,
        sell: 180,
        xp: 25,
        time: 60000,     // ุฏูููุฉ ูุงุญุฏุฉ
        levelReq: 3
    },
    'potato': {
        id: 'potato',
        name: 'ุจุทุงุทุง',
        icon: '๐ฅ',
        description: 'ููู ุงููุงุฆุฏุฉ ุงูุฌุฒุงุฆุฑูุฉ.',
        cost: 150,
        sell: 350,
        xp: 50,
        time: 120000,    // ุฏูููุชูู
        levelReq: 4
    },
    'eggplant': {
        id: 'eggplant',
        name: 'ุจุงุฐูุฌุงู',
        icon: '๐',
        description: 'ููุฃุทุจุงู ุงููุงุฎุฑุฉ ููุท.',
        cost: 300,
        sell: 700,
        xp: 100,
        time: 300000,    // 5 ุฏูุงุฆู
        levelReq: 5
    },
    'pumpkin': {
        id: 'pumpkin',
        name: 'ููุทูู',
        icon: '๐',
        description: 'ุงูุนููุงู! ูุฒุฑุน ูุจู ุงูููู.',
        cost: 500,
        sell: 1500,
        xp: 300,
        time: 3600000,   // ุณุงุนุฉ ูุงุญุฏุฉ
        levelReq: 6
    }
};

/* =========================================
   ูุธุงู ุงููุณุชููุงุช (LEVELS SYSTEM)
   ุงูุฎุจุฑุฉ ุงููุทููุจุฉ ูููุตูู ููู ูุณุชูู
   ========================================= */
export const LEVELS = {
    1: { xp: 0,    title: 'ูุฒุงุฑุน ูุจุชุฏุฆ' },
    2: { xp: 100,  title: 'ูุฒุงุฑุน ูุดูุท' },
    3: { xp: 300,  title: 'ููุงุญ ูุงูุฑ' },
    4: { xp: 800,  title: 'ุชุงุฌุฑ ุฎุถุงุฑ' },
    5: { xp: 1500, title: 'ุฎุจูุฑ ุฒุฑุงุนู' },
    6: { xp: 3000, title: 'ุดูุฎ ุงูููุงุญูู' },
    7: { xp: 6000, title: 'ุฅูุจุฑุงุทูุฑ ุงููุฒุฑุนุฉ ๐' }
};

/* =========================================
   ุฏูุงู ูุณุงุนุฏุฉ (HELPER FUNCTIONS)
   ========================================= */

// ุฏุงูุฉ ูุญุณุงุจ ูุณุจุฉ ุงูุชูุฏู ูู ุงููุณุชูู (ููุดุฑูุท ุงููููู)
export function getLevelProgress(currentXP, currentLevel) {
    const currentLevelData = LEVELS[currentLevel];
    const nextLevelData = LEVELS[currentLevel + 1];

    // ุฅุฐุง ูุตู ูุฃูุตู ูุณุชูู
    if (!nextLevelData) return 100;

    const startXP = currentLevelData.xp;
    const targetXP = nextLevelData.xp;

    const earned = currentXP - startXP;
    const required = targetXP - startXP;

    // ุญุณุงุจ ุงููุณุจุฉ ุงููุฆููุฉ (0% ุฅูู 100%)
    let percent = (earned / required) * 100;
    
    // ุชุตุญูุญ ุงูุฃุฑูุงู ูุชุจูู ูู ุงูุญุฏูุฏ ุงูููุทููุฉ
    return Math.max(0, Math.min(100, percent));
}
